<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –≥—Ä—É–∑–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="content-wrapper">
            <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
            <div class="header">
                <h1>–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –≥—Ä—É–∑–æ–≤</h1>
                <div class="header-logo">
                    <img src="logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo">
                </div>
                <div class="header-controls">
                    <div class="theme-switch">
                        <button class="theme-switch-button" onclick="toggleTheme()" id="themeButton">üåû</button>
                    </div>
                    <button class="btn btn-danger" onclick="clearAllData()" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ">
                        <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
                    </button>
                    <button class="btn btn-primary" onclick="openNewShipmentModal()">
                        <span>‚ûï</span> –ù–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
                    </button>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
            <div class="mobile-filter-toggle">
                <button onclick="toggleMobileFilters()" id="mobileFilterButton">
                    <span>üîç</span> –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                </button>
    </div>

            <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
            <div class="filter-bar" id="filterBar">
                <div class="filter-group">
                    <label>–î–∞—Ç–∞ —Å:</label>
                    <input type="date" id="dateFrom" onchange="filterShipments()">
                </div>
                <div class="filter-group">
                    <label>–ø–æ:</label>
                    <input type="date" id="dateTo" onchange="filterShipments()">
                </div>
                <div class="filter-group">
                    <label>–°—Ç–∞—Ç—É—Å:</label>
                    <select id="statusFilter" onchange="filterShipments()">
                        <option value="">–í—Å–µ</option>
                        <option value="pending">–í –ø—É—Ç–∏</option>
                        <option value="delivered">–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–ì–æ—Ä–æ–¥:</label>
                    <input type="text" id="cityFilter" list="cities" placeholder="–í—Å–µ –≥–æ—Ä–æ–¥–∞" oninput="filterShipments()">
                </div>
                <div class="filter-group">
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫..." oninput="filterShipments()">
                </div>
      </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏ -->
            <div class="table-container">
                <!-- –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ -->
                <table id="shipmentsTable" class="desktop-table">
          <thead>
                        <tr>
                            <th>–î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏</th>
                            <th>–ì–æ—Ä–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è</th>
                            <th>–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</th>
                            <th>–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è</th>
                            <th>–ì–æ—Ä–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è</th>
                            <th>–ü–æ–ª—É—á–∞—Ç–µ–ª—å</th>
                            <th>–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</th>
                            <th>–ú–µ—Å—Ç</th>
                            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
          </thead>
                    <tbody></tbody>
        </table>
                
                <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
                <div id="mobileCards" class="mobile-cards"></div>
      </div>
    </div>
  </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
    <div id="shipmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">–ù–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <form id="shipmentForm" onsubmit="saveShipment(event)">
                <input type="hidden" id="shipmentId">
                
                <div class="form-group">
                    <label>–î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏</label>
                    <input type="date" id="shippingDate" required>
                </div>
                
                <div class="form-group">
                    <label>–ì–æ—Ä–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è</label>
                    <input type="text" id="shippingCity" list="cities" required>
                    <datalist id="cities">
                        <option value="–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫">
                        <option value="–•–∞–±–∞—Ä–æ–≤—Å–∫">
                        <option value="–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫">
                        <option value="–ë–ª–∞–≥–æ–≤–µ—â–µ–Ω—Å–∫">
                    </datalist>
                </div>
                
                <div class="form-group">
                    <label>–§–ò–û –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è</label>
                    <input type="text" id="shipperName" required>
                </div>
                
                <div class="form-group">
                    <label>–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è</label>
                    <input type="date" id="deliveryDate">
                </div>
                
                <div class="form-group">
                    <label>–ì–æ—Ä–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è</label>
                    <input type="text" id="deliveryCity" list="cities">
                </div>
                
                <div class="form-group">
                    <label>–§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è</label>
                    <input type="text" id="receiverName">
                </div>
                
                <div class="form-group">
                    <label>–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫</label>
                    <input type="text" id="carrier" required>
                </div>
                
                <div class="form-group">
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç</label>
                    <input type="number" id="packages" required min="1">
                </div>
                
                <!-- –°–µ–∫—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π –≥—Ä—É–∑–∞ -->
                <div class="form-group">
                    <label>–ü–æ–∑–∏—Ü–∏–∏ –≥—Ä—É–∑–∞</label>
                    <div id="cargoItems" class="cargo-items">
                        <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø–æ–∑–∏—Ü–∏–∏ –≥—Ä—É–∑–∞ -->
                    </div>
                    <button type="button" class="btn btn-secondary" onclick="addCargoItem()">
                        <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
                    </button>
                </div>
                
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–∑–∞</label>
                    <textarea id="description" required></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- –®–∞–±–ª–æ–Ω –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ –≥—Ä—É–∑–∞ -->
    <template id="cargoItemTemplate">
        <div class="cargo-item">
            <div class="cargo-item-header">
                <h4>–ü–æ–∑–∏—Ü–∏—è #<span class="item-number"></span></h4>
                <button type="button" class="btn btn-danger" onclick="removeCargoItem(this)">üóëÔ∏è</button>
            </div>
            <div class="cargo-item-content">
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏</label>
                    <input type="text" class="cargo-description" required>
                </div>
                <div class="form-group">
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
                    <input type="number" class="cargo-quantity" required min="1" value="1">
                </div>
                <div class="form-group">
                    <label>–¢–∏–ø –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</label>
                    <select class="cargo-destination-type" required onchange="handleDestinationTypeChange(this)">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø...</option>
                        <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </select>
                </div>
                <div class="form-group return-date-group" style="display: none;">
                    <label>–î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞</label>
                    <input type="date" class="cargo-return-date">
                </div>
            </div>
        </div>
    </template>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript -->
    <script src="constants.js"></script>
    <script src="script.js"></script>
</body>
</html>